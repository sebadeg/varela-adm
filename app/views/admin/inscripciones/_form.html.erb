<%= semantic_form_for [:admin, resource], builder: ActiveAdmin::FormBuilder do |a| %>

  <%= a.semantic_errors *a.object.errors.keys %>

  <% if a.object.new_record? %>
    <%= a.input :recibida, input_html: { value: current_admin_usuario.email }, as: :hidden %>
    <%= a.input :reinscripcion, input_html: { value: :false }, as: :hidden %>
  <% end %>

  <%= a.inputs "Alumno" do %>
    <%= a.semantic_fields_for :alumno, Alumno.new do |b| %>
      <%= b.semantic_errors *b.object.errors.keys %>
      <%= b.input :nombre, label: 'Nombre' %>
      <%= b.input :apellido, label: 'Apellido' %>
      <%= b.input :cedula, label: 'Cédula' %>
      <%= b.input :lugar_nacimiento, label: 'Lugar de nacimiento' %>
      <%= b.input :fecha_nacimiento, label: 'Fecha de nacimiento' %>
      <%= b.input :domicilio, label: 'Domicilio' %>
      <%= b.input :celular, label: 'Teléfono/Celular' %>
      <%= b.input :anio_ingreso, label: 'Año ingreso' %>
    <% end %>
  <% end %>

  <%= a.inputs "Nivel" do %>
    <%= a.input :proximo_grado_id, :label => 'Grado', :as => :select, :collection => ProximoGrado.all.order(:nombre).map{|c| ["#{c.nombre} - $U #{c.precio}", c.id]} %>
    <%= a.input :convenio_id, :label => 'Convenio', :as => :select, :collection => Convenio.all.order(:nombre).map{|c| ["#{c.nombre} - #{c.valor}%", c.id]} %>
  <% end %>

  <%= a.inputs "Padre" do %>
    <%= a.semantic_fields_for :padre, Persona.new do |b| %>
      <%= b.semantic_errors *b.object.errors.keys %>
      <%= b.input :nombre, label: 'Nombre' %>
      <%= b.input :apellido, label: 'Apellido' %>
      <%= b.input :id, label: 'Cédula' %>
      <%= b.input :lugar_nacimiento, label: 'Lugar de nacimiento' %>
      <%= b.input :fecha_nacimiento, label: 'Fecha de nacimiento' %>
      <%= b.input :email, label: 'Mail' %>
      <%= b.input :domicilio, label: 'Domicilio' %>
      <%= b.input :celular, label: 'Teléfono/Celular' %>
      <%= b.input :profesion, label: 'Profesión' %>
      <%= b.input :trabajo, label: 'Trabajo'  %>
      <%= b.input :telefono_trabajo, label: 'Teléfono Trabajo' %>
      <%= a.input :titular_padre, label: 'Titular', :as => :boolean %>
    <% end %>
  <% end %>

  <%= a.inputs "Madre" do %>
    <%= a.semantic_fields_for :madre, Persona.new do |b| %>
      <%= b.semantic_errors *b.object.errors.keys %>
      <%= b.input :nombre, label: 'Nombre' %>
      <%= b.input :apellido, label: 'Apellido' %>
      <%= b.input :id, label: 'Cédula' %>
      <%= b.input :lugar_nacimiento, label: 'Lugar de nacimiento' %>
      <%= b.input :fecha_nacimiento, label: 'Fecha de nacimiento' %>
      <%= b.input :email, label: 'Mail' %>
      <%= b.input :domicilio, label: 'Domicilio' %>
      <%= b.input :celular, label: 'Teléfono/Celular' %>
      <%= b.input :profesion, label: 'Profesión'  %>
      <%= b.input :trabajo, label: 'Trabajo' %>
      <%= b.input :telefono_trabajo, label: 'Teléfono Trabajo' %>
      <%= a.input :titular_madre, label: 'Titular', as: :boolean %>
    <% end %>
  <% end %>

  <%= a.inputs "Titular 1" do %>
    <%= a.semantic_fields_for :titular1, Persona.new do |b| %>
      <%= b.semantic_errors *b.object.errors.keys %>
      <%= b.input :nombre, label: 'Nombre' %>
      <%= b.input :apellido, label: 'Apellido' %>
      <%= b.input :id, label: 'Cédula' %>
      <%= b.input :email, label: 'Mail' %>
      <%= b.input :domicilio, label: 'Domicilio' %>
      <%= b.input :celular, label: 'Teléfono/Celular' %>
    <% end %>
  <% end %>

  <%= a.inputs "Titular 2" do %>
    <%= a.semantic_fields_for :titular2, Persona.new do |b| %>
      <%= b.semantic_errors *b.object.errors.keys %>
      <%= b.input :nombre, label: 'Nombre' %>
      <%= b.input :apellido, label: 'Apellido' %>
      <%= b.input :id, label: 'Cédula' %>
      <%= b.input :email, label: 'Mail' %>
      <%= b.input :domicilio, label: 'Domicilio' %>
      <%= b.input :celular, label: 'Teléfono/Celular' %>
    <% end %>
  <% end %>

  <%= a.actions %>

<% end %>

